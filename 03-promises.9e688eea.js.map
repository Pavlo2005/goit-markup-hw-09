{"mappings":"YAYA,IAAMA,EAAU,CACdC,MAAOC,SAASC,cAAc,aAC9BC,KAAMF,SAASC,cAAc,YAC7BE,OAAQH,SAASC,cAAc,cAC/BG,OAAQJ,SAASC,cAAc,eAGjCH,EAAQM,OAAOC,iBAAiB,SAEhC,SAAsBC,G,kBAOlBC,YAAW,WA5Bf,IAAuBC,EAAUT,GAAVS,EA6BHC,EAAI,EA7BSV,EA6BNW,SAASZ,EAAQC,MAAMY,OAAUF,EAAMC,SAASZ,EAAQI,KAAKS,OA5B/E,IAAIC,SAAQ,SAACC,EAAKC,GACDC,KAAKC,SAAW,GAEpCH,EAAI,CAAEL,WAAUT,UAEhBe,EAAI,CAAEN,WAAUT,S,KAwBbkB,MAAK,SAAAC,G,IAAGV,EAAQU,EAARV,SAAUT,EAAKmB,EAALnB,MACjBoB,QAAQC,IAAI,uBAAwCC,OAAfb,EAAS,QAAYa,OAANtB,EAAM,M,IAE3DuB,OAAM,SAAAJ,G,IAAGV,EAAQU,EAARV,SAAUT,EAAKmB,EAALnB,MAClBoB,QAAQC,IAAI,sBAAqCC,OAAfb,EAAS,QAAYa,OAANtB,EAAM,M,MAE1DW,SAASZ,EAAQC,MAAMY,OAAUF,EAAMC,SAASZ,EAAQI,KAAKS,O,EAblEL,EAAIiB,iBAEJzB,EAAQM,OAAOoB,UAAW,EAE1B,IAAK,IAAIC,EAAI,EAAGA,EAAIf,SAASZ,EAAQK,OAAOQ,OAAQc,GAAK,EAACC,EAAAD,GAW1DlB,YAAW,WACTT,EAAQM,OAAOoB,UAAW,C,GACzBd,SAASZ,EAAQC,MAAMY,OAAUD,SAASZ,EAAQK,OAAOQ,OAASD,SAASZ,EAAQI,KAAKS,O","sources":["src/js/03-promises.js"],"sourcesContent":["function createPromise(position, delay) {\n  return new Promise((res, rej) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      res({ position, delay });\n    } else {\n      rej({ position, delay });\n    }\n  })\n\n}\n\nconst element = {\n  delay: document.querySelector('.js-delay'),\n  step: document.querySelector('.js-step'),\n  amount: document.querySelector('.js-amount'),\n  submit: document.querySelector('.js-submit')\n}\n\nelement.submit.addEventListener('click', handlerClick);\n\nfunction handlerClick(evt) {\n\n  evt.preventDefault();\n\n  element.submit.disabled = true;\n\n  for (let i = 0; i < parseInt(element.amount.value); i += 1) {\n    setTimeout(() => {\n      createPromise(i + 1, parseInt(element.delay.value) + ((i) * parseInt(element.step.value)))\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n        });\n    }, parseInt(element.delay.value) + ((i) * parseInt(element.step.value)))\n  }\n  setTimeout(() => {\n    element.submit.disabled = false;\n  }, parseInt(element.delay.value) + (parseInt(element.amount.value) * parseInt(element.step.value)));\n\n}\n"],"names":["$ce04d3a99e08e73b$var$element","delay","document","querySelector","step","amount","submit","addEventListener","evt","setTimeout","position","i","parseInt","value","Promise","res","rej","Math","random","then","param","console","log","concat","catch","preventDefault","disabled","i1","_loop"],"version":3,"file":"03-promises.9e688eea.js.map"}